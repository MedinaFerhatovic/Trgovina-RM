(()=>{var e={};e.id=698,e.ids=[698],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7144:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(60687),a=r(43210),i=r(16189),n=r(80507),o=r(97916);function l(){(0,i.useRouter)();let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!0),[p,c]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[b,g]=(0,a.useState)(""),[f,j]=(0,a.useState)([]),[y,P]=(0,a.useState)(!1),[w,q]=(0,a.useState)(""),[k,N]=(0,a.useState)(""),[C,S]=(0,a.useState)(""),[_,z]=(0,a.useState)(""),[D,R]=(0,a.useState)(!1),K=async t=>{t.preventDefault(),c("");try{let t=(0,o.H9)(n.db,"config","admin"),r=await (0,o.x7)(t),s=r.data()?.password;e===s?l(!0):c("❌ Pogrešna šifra.")}catch(e){c("⚠️ Došlo je do greške.")}},U=async e=>{if(e.preventDefault(),!f.length||f.length>3)return alert("Molimo izaberite 1 do 3 slike proizvoda.");P(!0);try{let e=[];for(let t of f){let r=new FormData;r.append("image",t);let s=await fetch("https://api.imgbb.com/1/upload?key=4e042ec45637e20e9739554a5a289304",{method:"POST",body:r}),a=await s.json();e.push(a.data.url)}await (0,o.gS)((0,o.rJ)(n.db,"products"),{name:m,price:parseFloat(v),description:b,brand:w,category:k,subcategory:C,sizes:_,isNew:D,imageUrl:e}),h(""),x(""),g(""),q(""),N(""),S(""),z(""),R(!1),j([]),alert("✅ Proizvod uspješno dodat!")}catch(e){console.error("Greška pri dodavanju:",e),alert("⚠️ Greška pri dodavanju proizvoda.")}P(!1)};return d?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center text-gray-700 text-lg",children:"\uD83D\uDD10 Učitavanje administratorske stranice..."}):r?(0,s.jsxs)("div",{className:"p-6 max-w-md mx-auto",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Dodaj novi proizvod"}),(0,s.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Naziv proizvoda",value:m,onChange:e=>h(e.target.value),className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("input",{type:"number",step:"0.01",placeholder:"Cijena u KM",value:v,onChange:e=>x(e.target.value),className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("input",{type:"text",placeholder:"Brand (npr. Nike)",value:w,onChange:e=>q(e.target.value),className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("input",{type:"text",placeholder:"Kategorija (npr. Obuća)",value:k,onChange:e=>N(e.target.value),className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("input",{type:"text",placeholder:"Potkategorija (npr. Muška)",value:C,onChange:e=>S(e.target.value),className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("input",{type:"text",placeholder:"Veličina (npr. 38)",value:_,onChange:e=>z(e.target.value),className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("textarea",{placeholder:"Opis proizvoda",value:b,onChange:e=>g(e.target.value),className:"w-full border p-2 rounded",required:!0}),(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:D,onChange:e=>R(e.target.checked)}),(0,s.jsx)("span",{children:"Je li proizvod nov?"})]}),(0,s.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=Array.from(e.target.files);if(t.length>3)return void alert("Možete dodati maksimalno 3 slike.");j(t)},required:!0}),f.length>0&&(0,s.jsx)("div",{className:"flex gap-2 mt-2",children:f.map((e,t)=>(0,s.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview",className:"w-20 h-20 object-cover rounded"},t))}),(0,s.jsx)("button",{type:"submit",disabled:y,className:"bg-green-600 text-white w-full p-2 rounded",children:y?"Dodavanje...":"Dodaj proizvod"})]})]}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsxs)("form",{onSubmit:K,className:"bg-white shadow-md p-6 rounded-md space-y-4 w-full max-w-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-center text-gray-800",children:"Admin pristup"}),(0,s.jsx)("input",{type:"password",placeholder:"Unesite admin šifru",value:e,onChange:e=>t(e.target.value),className:"w-full border p-2 rounded",required:!0}),p&&(0,s.jsx)("p",{className:"text-red-600 text-sm",children:p}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded hover:bg-gray-800",children:"Potvrdi"})]})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,t,r)=>{"use strict";var s=r(65773);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},52225:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},55511:e=>{"use strict";e.exports=require("crypto")},58280:()=>{},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65377:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},66520:(e,t,r)=>{Promise.resolve().then(r.bind(r,90094))},67192:(e,t,r)=>{Promise.resolve().then(r.bind(r,7144))},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"32x24",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},75535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(37413),a=r(18896),i=r.n(a),n=r(67710),o=r.n(n);r(61135);let l={title:"Trgovina RM"};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${i().variable} ${o().variable} antialiased`,children:e})})}},78372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>u,routeModule:()=>c,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,90094)),"C:\\Users\\Korisnik\\trgovina\\src\\app\\admin\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,75535)),"C:\\Users\\Korisnik\\trgovina\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["C:\\Users\\Korisnik\\trgovina\\src\\app\\admin\\page.js"],p={require:r,loadChunk:()=>Promise.resolve()},c=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79551:e=>{"use strict";e.exports=require("url")},80507:(e,t,r)=>{"use strict";r.d(t,{db:()=>n});var s=r(67989),a=r(97916);let i=(0,s.Wp)({apiKey:"AIzaSyCxX_r_FTLDIKx1gZBs7gAq-Rs5KnyfRcQ",authDomain:"trgovinarm-a948a.firebaseapp.com",projectId:"trgovinarm-a948a",storageBucket:"trgovinarm-a948a.firebasestorage.app",messagingSenderId:"247090906476",appId:"1:247090906476:web:43ba257b7a7d76b1295f49"}),n=(0,a.aU)(i)},81630:e=>{"use strict";e.exports=require("http")},90094:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Korisnik\\\\trgovina\\\\src\\\\app\\\\admin\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Korisnik\\trgovina\\src\\app\\admin\\page.js","default")},91645:e=>{"use strict";e.exports=require("net")},94728:()=>{},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,803,658,355],()=>r(78372));module.exports=s})();