(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{1439:(e,s,a)=>{"use strict";a.d(s,{db:()=>l});var t=a(3915),r=a(5317);let i=(0,t.Wp)({apiKey:"AIzaSyCxX_r_FTLDIKx1gZBs7gAq-Rs5KnyfRcQ",authDomain:"trgovinarm-a948a.firebaseapp.com",projectId:"trgovinarm-a948a",storageBucket:"trgovinarm-a948a.firebasestorage.app",messagingSenderId:"247090906476",appId:"1:247090906476:web:43ba257b7a7d76b1295f49"}),l=(0,r.aU)(i)},3483:(e,s,a)=>{Promise.resolve().then(a.bind(a,9720))},5695:(e,s,a)=>{"use strict";var t=a(8999);a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},9720:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(5155),r=a(2115),i=a(5695),l=a(1439),n=a(5317);function d(){let e=(0,i.useRouter)(),[s,a]=(0,r.useState)([]),[d,c]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!0),[u,x]=(0,r.useState)(""),[p,h]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{let s=(0,n.H9)(l.db,"config","admin");(await (0,n.x7)(s)).exists()?m(!1):(alert("⚠️ Admin konfiguracija nije pronađena."),e.push("/"))}catch(s){console.error("Greška pri dohvaćanju konfiguracije:",s),alert("⚠️ Greška pri provjeri admin šifre."),e.push("/")}})()},[e]);let g=async()=>{let e=await (0,n.GG)((0,n.rJ)(l.db,"orders")),s=[];e.forEach(e=>{let a=e.data();s.push({id:e.id,...a})}),a(s)},b=async e=>{await (0,n.kd)((0,n.H9)(l.db,"orders",e)),g()},j=async e=>{e.preventDefault(),h("");try{var s;let e=(0,n.H9)(l.db,"config","admin"),a=null==(s=(await (0,n.x7)(e)).data())?void 0:s.password;u===a?(c(!0),g()):h("❌ Pogrešna šifra.")}catch(e){h("⚠️ Došlo je do greške.")}};return o?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center text-gray-700 text-lg",children:"\uD83D\uDD10 Učitavanje administratorske stranice..."}):d?(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-10",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"\uD83D\uDCE6 Pristigle narudžbe"}),0===s.length?(0,t.jsx)("p",{className:"text-gray-600",children:"Nema narudžbi trenutno."}):(0,t.jsx)("div",{className:"space-y-8",children:s.map(e=>{var s,a;return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg shadow-sm p-6 bg-white",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-lg",children:e.ime}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCDE ",e.telefon]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83C\uDFE0 ",e.adresa,", ",e.postanskiBroj," ",e.grad]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCDD ",e.napomena]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["\uD83D\uDD52 ",new Date((null==(s=e.createdAt)?void 0:s.seconds)*1e3).toLocaleString()]}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 font-semibold",children:["Status: ",e.status]}),(0,t.jsxs)("p",{className:"text-lg text-yellow-600 font-bold mt-1",children:["Ukupno: ",e.total," KM"]}),(0,t.jsx)("button",{onClick:()=>b(e.id),className:"mt-2 text-red-500 hover:underline text-sm",children:"Obriši narudžbu"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(null==(a=e.items)?void 0:a.length)>0?e.items.map((e,s)=>{var a;return(0,t.jsxs)("div",{className:"border p-3 rounded bg-gray-50",children:[(0,t.jsx)("img",{src:null==(a=e.imageUrl)?void 0:a[0],alt:e.name,className:"w-full h-32 object-cover rounded mb-2"}),(0,t.jsx)("p",{className:"font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.brand}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Veličina: ",e.sizes]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Količina: ",e.quantity]}),(0,t.jsxs)("p",{className:"text-yellow-600 font-bold",children:[e.price," KM"]})]},s)}):(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"Nema proizvoda u ovoj narudžbi."})})]},e.id)})})]}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,t.jsxs)("form",{onSubmit:j,className:"bg-white shadow-md p-6 rounded-md space-y-4 w-full max-w-sm",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-center text-gray-800",children:"Admin pristup"}),(0,t.jsx)("input",{type:"password",placeholder:"Unesite admin šifru",value:u,onChange:e=>x(e.target.value),className:"w-full border p-2 rounded",required:!0}),p&&(0,t.jsx)("p",{className:"text-red-600 text-sm",children:p}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded hover:bg-gray-800",children:"Potvrdi"})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,399,441,684,358],()=>s(3483)),_N_E=e.O()}]);