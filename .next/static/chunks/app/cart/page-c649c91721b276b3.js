(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{1439:(e,a,s)=>{"use strict";s.d(a,{db:()=>n});var r=s(3915),l=s(5317);let t=(0,r.Wp)({apiKey:"AIzaSyCxX_r_FTLDIKx1gZBs7gAq-Rs5KnyfRcQ",authDomain:"trgovinarm-a948a.firebaseapp.com",projectId:"trgovinarm-a948a",storageBucket:"trgovinarm-a948a.firebasestorage.app",messagingSenderId:"247090906476",appId:"1:247090906476:web:43ba257b7a7d76b1295f49"}),n=(0,l.aU)(t)},4272:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var r=s(5155),l=s(4338),t=s(2115),n=s(5939),o=s(280),i=s(4500),d=s(1439),c=s(5317);function m(e){let{isOpen:a,onClose:s}=e,{cart:m,clearCart:u}=(0,l.x)(),[x,p]=(0,t.useState)({ime:"",telefon:"",adresa:"",postanskiBroj:"",grad:"",napomena:""}),[g,j]=(0,t.useState)(!1),h=e=>{p({...x,[e.target.name]:e.target.value})},b=async e=>{if(e.preventDefault(),0===m.length)return void alert("Korpa je prazna.");j(!0);try{await (0,c.gS)((0,c.rJ)(d.db,"orders"),{...x,createdAt:c.Dc.now(),status:"pending",items:m,total:m.reduce((e,a)=>e+parseFloat(a.price||0),0)}),u(),alert("✅ Narudžba je uspješno poslata!"),s(),p({ime:"",telefon:"",adresa:"",postanskiBroj:"",grad:"",napomena:""})}catch(e){console.error("Greška prilikom slanja narudžbe:",e),alert("❌ Došlo je do greške. Pokušajte ponovo.")}finally{j(!1)}};return(0,r.jsx)(n.e,{appear:!0,show:a,as:t.Fragment,children:(0,r.jsxs)(o.lG,{as:"div",className:"relative z-50",onClose:s,children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm"}),(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,r.jsxs)(o.lG.Panel,{className:"w-full max-w-2xl bg-white rounded-xl p-6 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)(o.lG.Title,{className:"text-2xl font-bold text-gray-800",children:"Detalji narudžbe"}),(0,r.jsx)("button",{onClick:s,children:(0,r.jsx)(i.A,{className:"h-6 w-6 text-gray-500 hover:text-gray-700"})})]}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsx)("input",{type:"text",name:"ime",placeholder:"Ime i prezime",required:!0,value:x.ime,onChange:h,className:"w-full border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500"}),(0,r.jsx)("input",{type:"text",name:"telefon",placeholder:"Telefon",required:!0,value:x.telefon,onChange:h,className:"w-full border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500"}),(0,r.jsx)("input",{type:"text",name:"adresa",placeholder:"Adresa",required:!0,value:x.adresa,onChange:h,className:"w-full border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500"}),(0,r.jsx)("input",{type:"text",name:"postanskiBroj",placeholder:"Poštanski broj",required:!0,value:x.postanskiBroj,onChange:h,className:"w-full border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500"}),(0,r.jsx)("input",{type:"text",name:"grad",placeholder:"Grad",required:!0,value:x.grad,onChange:h,className:"w-full border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500"}),(0,r.jsx)("textarea",{name:"napomena",placeholder:"Napomena (opcionalno)",rows:3,value:x.napomena,onChange:h,className:"w-full border border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 sm:col-span-2"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 bg-yellow-50 border border-yellow-300 rounded-lg p-4 mt-4",children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Napomena:"})}),(0,r.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,r.jsxs)("li",{children:["\uD83D\uDCDE Ako imate dodatnih pitanja, pozovite ",(0,r.jsx)("strong",{children:"+387 62 644 203"}),"."]}),(0,r.jsx)("li",{children:"\uD83D\uDE9A Pošiljke šaljemo brzom poštom, cijena dostave je 10 KM."}),(0,r.jsx)("li",{children:"⌛ Ako naručite nakon 16:00, pošiljka ide naredni radni dan."})]})]}),(0,r.jsx)("div",{className:"flex justify-end pt-4",children:(0,r.jsx)("button",{type:"submit",disabled:g,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold px-6 py-3 rounded-full transition duration-300 disabled:opacity-50",children:g?"Slanje...":"Potvrdi narudžbu"})})]})]})})]})})}var u=s(1151);function x(){let{cart:e,removeFromCart:a}=(0,l.x)(),[s,n]=(0,t.useState)(!1),o=e.reduce((e,a)=>e+parseFloat(a.price||0)*(a.quantity||1),0).toFixed(2);return(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-10",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-10 text-center text-gray-800",children:"\uD83D\uDED2 Moja korpa"}),0===e.length?(0,r.jsx)("p",{className:"text-gray-600 text-center text-lg",children:"Vaša korpa je prazna."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid gap-6",children:e.map((e,s)=>{var l;return(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-4 bg-white shadow-sm border border-gray-200 rounded-lg p-5 transition hover:shadow-md",children:[(0,r.jsx)("img",{src:(null==(l=e.imageUrl)?void 0:l[0])||"/placeholder.jpg",alt:e.name,className:"w-28 h-28 object-cover rounded-lg border"}),(0,r.jsx)("div",{className:"flex-1 w-full sm:w-auto",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.brand}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Veličina: ",e.sizes]})]}),(0,r.jsxs)("div",{className:"mt-2 sm:mt-0 sm:text-right",children:[(0,r.jsxs)("p",{className:"text-yellow-600 font-bold text-lg",children:[e.price," KM"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Količina: ",e.quantity]})]})]})}),(0,r.jsx)("button",{onClick:()=>a(e),className:"text-red-500 hover:text-red-700 transition","aria-label":"Ukloni iz korpe",children:(0,r.jsx)(u.A,{className:"w-6 h-6"})})]},s)})}),(0,r.jsxs)("div",{className:"mt-12 flex flex-col sm:flex-row justify-between items-center border-t pt-6 gap-6",children:[(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-800",children:["Ukupno: ",(0,r.jsxs)("span",{className:"text-yellow-600",children:[o," KM"]})]}),(0,r.jsx)("button",{onClick:()=>n(!0),className:"bg-yellow-500 hover:bg-yellow-600 text-black font-semibold px-8 py-3 rounded-full shadow-md transition duration-300",children:"✅ Nastavi s narudžbom"})]}),(0,r.jsxs)("div",{className:"mt-14 bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-xl p-6 text-gray-700 leading-relaxed text-sm sm:text-base shadow-sm",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-800 mb-2",children:"ℹ️ Važne informacije:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-2",children:[(0,r.jsx)("li",{children:"\uD83D\uDCB3 Plaćanje pouzećem (gotovina pri preuzimanju)."}),(0,r.jsxs)("li",{children:["\uD83D\uDE9A Dostava brzom poštom — cijena dostave je ",(0,r.jsx)("strong",{children:"10 KM"}),"."]}),(0,r.jsx)("li",{children:"\uD83D\uDCE6 Narudžbe primljene do kraja radnog vremena šaljemo isti dan."}),(0,r.jsx)("li",{children:"\uD83D\uDCC5 Nakon radnog vremena, narudžba se šalje naredni radni dan."}),(0,r.jsxs)("li",{children:["\uD83D\uDCDE Pitanja? Kontakt: ",(0,r.jsx)("strong",{children:"+387 62 644 203"})]})]})]})]}),(0,r.jsx)(m,{isOpen:s,onClose:()=>n(!1)})]})}},4338:(e,a,s)=>{"use strict";s.d(a,{x:()=>r});let r=(0,s(5453).v)((e,a)=>({cart:[],addToCart:s=>{a().cart.find(e=>e.id===s.id&&e.sizes===s.sizes)?e(e=>({cart:e.cart.map(e=>e.id===s.id&&e.sizes===s.sizes?{...e,quantity:e.quantity+1}:e)})):e(e=>({cart:[...e.cart,{...s,quantity:1}]}))},removeFromCart:a=>{e(e=>({cart:e.cart.filter(e=>e.id!==a.id||e.sizes!==a.sizes)}))},clearCart:()=>e({cart:[]})}))},5551:(e,a,s)=>{Promise.resolve().then(s.bind(s,4272))}},e=>{var a=a=>e(e.s=a);e.O(0,[992,399,751,441,684,358],()=>a(5551)),_N_E=e.O()}]);